<!doctype html>
<html lang="en-GB">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>D&D 5e Encounter Builder — Iteration 1</title>
		<link rel="stylesheet" href="styles.css" />
	</head>

	<body>
		<header class="site-header">
			<div class="container">
				<h1>
					D&amp;D 5e Encounter Builder <span class="badge">Iteration 1</span>
				</h1>
				<p class="subtitle">
					Generate a plausible encounter (no XP balancing yet) using Open5e
					monsters.
				</p>
			</div>
		</header>

		<main class="container">
			<section class="card">
				<h2>Inputs</h2>

				<form id="encounterForm" class="form-grid" autocomplete="off">
					<label class="field">
						<span class="label">Party level (1–10)</span>
						<input
							id="partyLevel"
							type="number"
							min="1"
							max="10"
							step="1"
							value="3"
							required
						/>
					</label>

					<label class="field">
						<span class="label">Party size (1–6)</span>
						<input
							id="partySize"
							type="number"
							min="1"
							max="6"
							step="1"
							value="4"
							required
						/>
					</label>

					<label class="field">
						<span class="label">Theme (monster type)</span>
						<select id="theme">
							<option value="any" selected>Any</option>
							<option value="beast">Beast</option>
							<option value="undead">Undead</option>
							<option value="humanoid">Humanoid</option>
							<option value="dragon">Dragon</option>
							<option value="fiend">Fiend</option>
							<option value="monstrosity">Monstrosity</option>
							<option value="aberration">Aberration</option>
							<option value="construct">Construct</option>
							<option value="elemental">Elemental</option>
							<option value="fey">Fey</option>
							<option value="giant">Giant</option>
							<option value="ooze">Ooze</option>
							<option value="plant">Plant</option>
							<option value="celestial">Celestial</option>
						</select>
					</label>

					<div class="actions">
						<button id="generateBtn" type="submit" class="btn primary">
							Generate encounter
						</button>
						<button id="regenBtn" type="button" class="btn" disabled>
							Regenerate
						</button>
					</div>
				</form>

				<div id="status" class="status" aria-live="polite"></div>

				<div class="hint">
					<strong>Note:</strong> This iteration uses only CR ranges + theme
					filtering. It always outputs something (theme falls back to Any if too
					strict).
				</div>
			</section>

			<section id="results" class="results" hidden>
				<article class="card" id="summaryCard">
					<h2>Encounter Summary</h2>
					<div class="summary-grid" id="summaryGrid"></div>
					<p class="summary-line" id="summaryLine"></p>
				</article>

				<article class="card">
					<div class="monsters-header">
						<h2>Monsters</h2>
						<span class="pill" id="countPill"></span>
					</div>
					<ul class="monster-list" id="monsterList"></ul>
				</article>
			</section>

			<!-- Simple modal for “more details” (optional but nice UX) -->
			<dialog id="monsterModal" class="modal">
				<div class="modal-inner">
					<div class="modal-header">
						<h3 id="modalTitle">Monster</h3>
						<button id="closeModalBtn" class="icon-btn" aria-label="Close">
							✕
						</button>
					</div>
					<div id="modalBody" class="modal-body"></div>
					<div class="modal-footer">
						<a
							id="modalLink"
							class="btn primary"
							href="#"
							target="_blank"
							rel="noreferrer noopener"
							>View on Open5e</a
						>
						<button id="closeModalBtn2" class="btn" type="button">Close</button>
					</div>
				</div>
			</dialog>
		</main>

		<footer class="site-footer">
			<div class="container">
				<small>
					Data source: Open5e. This is a student/dev prototype for Iteration 1.
				</small>
			</div>
		</footer>

		<script src="app.js"></script>
	</body>
</html>
